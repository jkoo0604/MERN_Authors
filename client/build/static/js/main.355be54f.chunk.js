(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=(a(83),a(84),a(11)),l=a(13),s=a(22),m=a.n(s),u=a(144),d=a(147),h=a(149),p=a(150),f=a(151),g=a(152),E=a(153),b=a(154),v=a(155),j=a(156),O=a(160),w=a(69),x=a.n(w),y=a(68),N=a.n(y),S=a(67),k=a.n(S),C=Object(u.a)((function(e){return{root:{width:700,flexGrow:1,margin:"auto",marginTop:20,padding:e.spacing(1,4),height:"580px"},container:{maxHeight:460},button:{margin:e.spacing(1),color:"#b0bec5",borderColor:"#b0bec5"},customButton:{margin:e.spacing(1),backgroundColor:"#ffd54f"},createButton:{margin:e.spacing(1),backgroundColor:"#4dd0e1",color:"white"},cell:{paddingLeft:100},font:{fontWeight:600,fontSize:15}}})),A=function(){var e=C(),t=Object(n.useState)(0),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)(5),u=Object(l.a)(s,2),w=u[0],y=u[1],S=Object(n.useState)([]),A=Object(l.a)(S,2),B=A[0],T=A[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/authors").then((function(e){T(e.data.authors)}))}),[]);return r.a.createElement(d.a,{className:e.root},r.a.createElement(h.a,{container:!0,justify:"center"},r.a.createElement(h.a,{item:!0,xs:10},r.a.createElement("h1",null,"Favorite Authors")),r.a.createElement(h.a,{item:!0,xs:2},r.a.createElement(i.a,{to:"/authors/new"},r.a.createElement(p.a,{variant:"contained",size:"small",color:"primary",className:e.createButton,startIcon:r.a.createElement(k.a,null)},"Create")))),r.a.createElement(f.a,{className:e.container},r.a.createElement(g.a,{stickyHeader:!0},r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(v.a,{align:"center",className:e.font},"Author"),r.a.createElement(v.a,{align:"center",className:e.font},"Available Actions"))),r.a.createElement(j.a,null,B.slice(c*w,c*w+w).map((function(t){return r.a.createElement(b.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t._id},r.a.createElement(v.a,{align:"center"},t.name),r.a.createElement(v.a,{align:"center"},r.a.createElement(i.a,{to:"/authors/edit/".concat(t._id)},r.a.createElement(p.a,{variant:"contained",size:"small",color:"primary",className:e.customButton,startIcon:r.a.createElement(N.a,null)},"Edit")),r.a.createElement(p.a,{variant:"outlined",size:"small",color:"secondary",className:e.button,startIcon:r.a.createElement(x.a,null),onClick:function(){return e=t._id,void m.a.delete("http://localhost:8000/api/authors/delete/"+e).then((function(t){T(B.filter((function(t){return t._id!==e})))}));var e}},"Delete")))}))))),r.a.createElement(O.a,{rowsPerPageOptions:[5,10,15],component:"div",count:B.length,rowsPerPage:w,page:c,onChangePage:function(e,t){o(t)},onChangeRowsPerPage:function(e){y(+e.target.value),o(0)}}))},B=a(161),T=a(70),z=a.n(T),I=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200},"& > *":{margin:e.spacing(1)},width:400,flexGrow:1,margin:"auto",marginTop:20,padding:e.spacing(1,4,4,4)},paper:{padding:e.spacing(4),textAlign:"center",color:e.palette.text.secondary},container:{margin:0},customButton:{margin:10}}})),P=function(e){var t=I(),a=e.initialName,c=e.err,o=e.handleSubmit,s=e.formText,m=Object(n.useState)(a),u=Object(l.a)(m,2),f=u[0],g=u[1];return r.a.createElement(d.a,{className:t.root},r.a.createElement(h.a,{container:!0,justify:"flex-end",className:t.container},r.a.createElement(i.a,{to:"/"},r.a.createElement(p.a,{variant:"outlined",size:"small",className:t.createButton,startIcon:r.a.createElement(z.a,null)},"Home"))),r.a.createElement(h.a,{container:!0,justify:"center",className:t.container},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement("h2",null,"Favorite Authors"))),r.a.createElement(h.a,{container:!0,justify:"center",className:t.container},r.a.createElement(h.a,{item:!0,xs:12},s),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o(f)}},r.a.createElement(B.a,{required:!0,error:!!c.name,id:"filled-required"+(c.name?" filled-error-helper-text":""),label:"Name",helperText:c.name,variant:"filled",onChange:function(e){return g(e.target.value)},value:f}),r.a.createElement(h.a,{item:!0,xs:12,justify:"space-evenly"},r.a.createElement(i.a,{to:"/"},r.a.createElement(p.a,{variant:"outlined",size:"small",className:t.customButton},"Cancel")),r.a.createElement(p.a,{variant:"contained",size:"small",color:"primary",type:"submit",className:t.customButton},"Submit"))))))},F=function(){var e=Object(n.useState)({}),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement(P,{initialName:"",handleSubmit:function(e){console.log(e),m.a.post("http://localhost:8000/api/authors/new",{name:e}).then((function(e){Object(i.d)("/")})).catch((function(e){for(var t=e.response.data,a={},n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];a[o]=t[o].properties.message}c(a)}))},err:a,formText:"Add a new author:"})},_=Object(u.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200},"& > *":{margin:e.spacing(1)},flexGrow:1,textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,width:400},container:{marginTop:20}}})),G=function(e){var t=_(),a=e.id,c=Object(n.useState)(""),o=Object(l.a)(c,2),s=o[0],u=o[1],f=Object(n.useState)(!1),g=Object(l.a)(f,2),E=g[0],b=g[1],v=Object(n.useState)({}),j=Object(l.a)(v,2),O=j[0],w=j[1],x=Object(n.useState)(!1),y=Object(l.a)(x,2),N=y[0],S=y[1];Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/authors/"+a).then((function(e){u(e.data.author.name),b(!0)})).catch((function(e){S(!0),b(!0)}))}),[]);return N?r.a.createElement(h.a,{container:!0,justify:"center",className:t.container},r.a.createElement(d.a,{elevation:3,className:t.paper},r.a.createElement("p",null,"Invalid author. Click below to create one."),r.a.createElement(i.a,{to:"/authors/new"},r.a.createElement(p.a,{variant:"contained",color:"primary"},"Create")))):E&&r.a.createElement(P,{initialName:s,handleSubmit:function(e){m.a.put("http://localhost:8000/api/authors/update/"+a,{name:e}).then((function(e){Object(i.d)("/")})).catch((function(e){for(var t=e.response.data,a={},n=0,r=Object.keys(t);n<r.length;n++){var c=r[n];a[c]=t[c].properties.message}w(a)}))},err:O,formText:"Edit this author:"})};var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.c,null,r.a.createElement(i.b,{from:"/",to:"/authors",noThrow:!0}),r.a.createElement(A,{path:"authors/"}),r.a.createElement(F,{path:"authors/new"}),r.a.createElement(G,{path:"authors/edit/:id"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,t,a){e.exports=a(110)},83:function(e,t,a){},84:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.355be54f.chunk.js.map